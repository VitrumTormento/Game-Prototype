<!DOCTYPE html>
<html>
<head>
	<title>Idle Clicker Prototype</title>
	<link rel="stylesheet" href="gamePrototype.css">
</head>
<body>
<h1>Idle Clicker Prototype</h1>
<h2>Resources</h2>
<p>Wood: <span id="wood"></span>  (<span id="woodEarningSec"></span>/sec)</p>
<p>Gold: <span id="gold"></span>  (<span id="goldEarningSec"></span>/sec)</p>
<p>Food: <span id="food"></span>  (<span id="foodEarningSec"></span>/sec)</p>
<p>Iron: <span id="iron"></span>  (<span id="ironEarningSec"></span>/sec)</p>
<script>
//Filler Variables
var something = null;

//GAME SETTINGS
//Defines cost increase rate
var increase = {
	upgrade:2,
	building:1.15,
	}
	
	
	//SERFS
	//LUMBER JACK - TAX COLLECTOR - FARMER - MINER
	
//RESOURCES
//Declares wood resource variables	
var wood = {
    clickerRate:1,
	idleRate:0,
	total:0,
	secondTotal:0,
	earningSec:0,
	}

//Declares food resource variables
var food = {
    clickerRate:1,
	idleRate:0, 
	total:0,
	secondTotal:0,
	earningSec:0,
	}

//Declares gold resource variables
var gold = {
    clickerRate:1,
	idleRate:0, 
	total:0,
	secondTotal:0,
	earningSec:0,
	}

//Declares iron resource variables
var iron = {
    clickerRate:1,
	idleRate:0,
	total:0,
	secondTotal:0,	
	earningSec:0,
	}

//UPGRADES
//Declares axe cost variables
var axeCost = {
	clickerBoost:1,
	wood:15,
	food:5,
	gold:5,
	iron:5,
	upgradeCount:0,
	}

//Declares rate cost variables
var raiseCost = {
	clickerBoost:1,
	wood:5,
	food:5,
	gold:15,
	iron:5,
	upgradeCount:0,
	}

//Declares hoe cost variables
var hoeCost = {
	clickerBoost:1,
	wood:5,
	food:15,
	gold:5,
	iron:5,
	upgradeCount:0,
	}

//Declares pick cost variables
var pickCost = {
	clickerBoost:1,
	wood:5,
	food:5,
	gold:5,
	iron:15,
	upgradeCount:0,
	}

//BUILDINGS
//Declares lumber camp cost variables
var lumbercampCost = {
	idleBoost:0.2,
	wood:30,
	food:10,
	gold:10,
	iron:10,
	upgradeCount:0,
	}

//Declares treasury cost variables
var treasuryCost = {
	idleBoost:0.2,
	wood:10,
	food:10,
	gold:30,
	iron:10,
	upgradeCount:0,
	}

//Declares mill cost variables
var millCost = {
	idleBoost:0.2,
	wood:10,
	food:30,
	gold:10,
	iron:10,
	upgradeCount:0,
	}

//Declares mine cost variables
var mineCost = {
	idleBoost:0.2,
	wood:10,
	food:10,
	gold:10,
	iron:30,
	upgradeCount:0,
	}

//Method of displaying totals to screen
function totalUpdate(){
	document.getElementById("wood").innerHTML = Number(Math.round(wood.total+'e2')+'e-2');
	document.getElementById("gold").innerHTML = Number(Math.round(gold.total+'e2')+'e-2');
	document.getElementById("food").innerHTML = Number(Math.round(food.total+'e2')+'e-2');
	document.getElementById("iron").innerHTML = Number(Math.round(iron.total+'e2')+'e-2');
	}
 
//Method to determine cost increase to upgrades
function upgradeCost(something) {
	something.wood *= increase.upgrade;
	something.food *= increase.upgrade;
	something.gold *= increase.upgrade;
	something.iron *= increase.upgrade;
	}

//Method to determine cost increase to buildings
function buildingCost(something) {
	something.wood *= increase.building;
	something.food *= increase.building;
	something.gold *= increase.building;
	something.iron *= increase.building;
	}
 
//Method to add the value of idle incomes to respective resource totals
function idleUpdate() {
	wood.total += wood.idleRate;
	food.total += food.idleRate;
	gold.total += gold.idleRate;
	iron.total += iron.idleRate;
	}
 
//Method to write the earnings per second to the page
function earningSecUpdate() {
	document.getElementById("woodEarningSec").innerHTML = Number(Math.round(wood.earningSec+'e2')+'e-2');
	document.getElementById("foodEarningSec").innerHTML = Number(Math.round(food.earningSec+'e2')+'e-2');
	document.getElementById("goldEarningSec").innerHTML = Number(Math.round(gold.earningSec+'e2')+'e-2');
	document.getElementById("ironEarningSec").innerHTML = Number(Math.round(iron.earningSec+'e2')+'e-2');
	}

//Method to determine the value of resource earnings per second
function earningSecValues() {
	wood.earningSec = wood.idleRate + wood.secondTotal;
	food.earningSec = food.idleRate + food.secondTotal;
	gold.earningSec = gold.idleRate + gold.secondTotal;
	iron.earningSec = iron.idleRate + iron.secondTotal;
	}
 
//Main Game loop - currently tied to monitor refresh rate, writes values to page
function mainLoop() {
    totalUpdate();
	earningSecValues();
	earningSecUpdate();
    requestAnimationFrame(mainLoop);
	}

//On click action for Gather Wood
function gatherWood() {
	wood.total += wood.clickerRate;
	wood.secondTotal += wood.clickerRate;
	setTimeout(function(){
         wood.secondTotal -= wood.clickerRate; //research moving average to smooth even further
			},1000);
	}

//On click action for Gather Food
function gatherFood() {
	food.total += food.clickerRate;
	food.secondTotal += food.clickerRate;
		setTimeout(function(){
         food.secondTotal -= food.clickerRate;
			},1000);
	}

//On click action for Gather Gold
function gatherGold() {
	gold.total += gold.clickerRate;
	gold.secondTotal += gold.clickerRate;
		setTimeout(function(){
         gold.secondTotal -= gold.clickerRate;
			},1000);
	}

//On click action for Gather Iron
function gatherIron() {
	iron.total += iron.clickerRate;
	iron.secondTotal += iron.clickerRate;
		setTimeout(function(){
         iron.secondTotal -= iron.clickerRate;
			},1000);
	}

//Function for axe upgrades
function upgradeAxe() {
	if(wood.total >= axeCost.wood && food.total >= axeCost.food && gold.total >= axeCost.gold && iron.total >= axeCost.iron) {
	wood.clickerRate += axeCost.clickerBoost;
	wood.total -= axeCost.wood;
	iron.total -= axeCost.iron;
	gold.total -= axeCost.gold;
	food.total -= axeCost.food;
	something = axeCost;
	upgradeCost(something);
		}
	else {
	//insert error message to remove itself after 5 seconds
	document.getElementById("check").innerHTML="<span id='test'>You can not afford this yet.</span><br>Wood: "+axeCost.wood+"<br>Food: "+axeCost.food+"<br>Gold: "+axeCost.gold+"<br>Iron: "+axeCost.iron;
	 setTimeout(function(){
         document.getElementById("check").innerHTML="";
			},5000);
		}
	}

//Function for rate upgrades
function upgradeRates() {
	if(wood.total >= raiseCost.wood && food.total >= raiseCost.food && gold.total >= raiseCost.gold && iron.total >= raiseCost.iron) {
	gold.clickerRate += raiseCost.clickerBoost;
	wood.total -= raiseCost.wood;
	iron.total -= raiseCost.iron;
	gold.total -= raiseCost.gold;
	food.total -= raiseCost.food;
	something = raiseCost;
	upgradeCost(something);
		}
	else {
	//insert error message to remove itself after 5 seconds
	document.getElementById("check").innerHTML="<span id='test'>You can not afford this yet.</span><br>Wood: "+raiseCost.wood+"<br>Food: "+raiseCost.food+"<br>Gold: "+raiseCost.gold+"<br>Iron: "+raiseCost.iron;
	 setTimeout(function(){
         document.getElementById("check").innerHTML="";
			},5000);
		}
	}

//Function for hoe upgrades
function upgradeHoe() {
	if(wood.total >= hoeCost.wood && food.total >= hoeCost.food && gold.total >= hoeCost.gold && iron.total >= hoeCost.iron) {
	food.clickerRate += hoeCost.clickerBoost;
	wood.total -= hoeCost.wood;
	iron.total -= hoeCost.iron;
	gold.total -= hoeCost.gold;
	food.total -= hoeCost.food;
	something = hoeCost;
	upgradeCost(something);
		}
	else {
	//insert error message to remove itself after 5 seconds
	document.getElementById("check").innerHTML="<span id='test'>You can not afford this yet.</span><br>Wood: "+hoeCost.wood+"<br>Food: "+hoeCost.food+"<br>Gold: "+hoeCost.gold+"<br>Iron: "+hoeCost.iron;
	 setTimeout(function(){
         document.getElementById("check").innerHTML="";
			},5000);
		}
	}

//Function for pick upgrades
function upgradePick() {
	if(wood.total >= pickCost.wood && food.total >= pickCost.food && gold.total >= pickCost.gold && iron.total >= pickCost.iron) {
	iron.clickerRate += pickCost.clickerBoost;
	wood.total -= pickCost.wood;
	iron.total -= pickCost.iron;
	gold.total -= pickCost.gold;
	food.total -= pickCost.food;
	something = pickCost;
	upgradeCost(something);
		}
	else {
	//insert error message to remove itself after 5 seconds
	document.getElementById("check").innerHTML="<span id='test'>You can not afford this yet.</span><br>Wood: "+pickCost.wood+"<br>Food: "+pickCost.food+"<br>Gold: "+pickCost.gold+"<br>Iron: "+pickCost.iron;
	 setTimeout(function(){
         document.getElementById("check").innerHTML="";
			},5000);
		}
	}

//Function for lumber camp building
function buildingLumbercamp() {
	if(wood.total >= lumbercampCost.wood && food.total >= lumbercampCost.food && gold.total >= lumbercampCost.gold && iron.total >= lumbercampCost.iron) {
	wood.idleRate += lumbercampCost.idleBoost;
	wood.total -= lumbercampCost.wood;
	iron.total -= lumbercampCost.iron;
	gold.total -= lumbercampCost.gold;
	food.total -= lumbercampCost.food;
	something = lumbercampCost;
	buildingCost(something);
		}
	else {
	//insert error message to remove itself after 5 seconds
	document.getElementById("check").innerHTML="<span id='test'>You can not afford this yet.</span><br>Wood: "+lumbercampCost.wood+"<br>Food: "+lumbercampCost.food+"<br>Gold: "+lumbercampCost.gold+"<br>Iron: "+lumbercampCost.iron;
	 setTimeout(function(){
         document.getElementById("check").innerHTML="";
			},5000);
		}
	}

//Function for mill building
function buildingMill() {
	if(wood.total >= millCost.wood && food.total >= millCost.food && gold.total >= millCost.gold && iron.total >= millCost.iron) {
	food.idleRate += millCost.idleBoost;
	wood.total -= millCost.wood;
	iron.total -= millCost.iron;
	gold.total -= millCost.gold;
	food.total -= millCost.food;
	something = millCost;
	buildingCost(something);
		}
	else {
	//insert error message to remove itself after 5 seconds
	document.getElementById("check").innerHTML="<span id='test'>You can not afford this yet.</span><br>Wood: "+millCost.wood+"<br>Food: "+millCost.food+"<br>Gold: "+millCost.gold+"<br>Iron: "+millCost.iron;
	 setTimeout(function(){
         document.getElementById("check").innerHTML="";
			},5000);
		}
	}

//Function for mine building
function buildingMine() {
	if(wood.total >= mineCost.wood && food.total >= mineCost.food && gold.total >= mineCost.gold && iron.total >= mineCost.iron) {
	iron.idleRate += mineCost.idleBoost;
	wood.total -= mineCost.wood;
	iron.total -= mineCost.iron;
	gold.total -= mineCost.gold;
	food.total -= mineCost.food;
	something = mineCost;
	buildingCost(something);
		}
	else {
	//insert error message to remove itself after 5 seconds
	document.getElementById("check").innerHTML="<span id='test'>You can not afford this yet.</span><br>Wood: "+mineCost.wood+"<br>Food: "+mineCost.food+"<br>Gold: "+mineCost.gold+"<br>Iron: "+mineCost.iron;
	 setTimeout(function(){
         document.getElementById("check").innerHTML="";
			},5000);
		}
	}

//Function for treasury building
function buildingTreasury() {
	if(wood.total >= treasuryCost.wood && food.total >= treasuryCost.food && gold.total >= treasuryCost.gold && iron.total >= treasuryCost.iron) {
	gold.idleRate += treasuryCost.idleBoost;
	wood.total -= treasuryCost.wood;
	iron.total -= treasuryCost.iron;
	gold.total -= treasuryCost.gold;
	food.total -= treasuryCost.food;
	something = treasuryCost;
	buildingCost(something);
		}
	else {
	//insert error message to remove itself after 5 seconds
	document.getElementById("check").innerHTML="<span id='test'>You can not afford this yet.</span><br>Wood: "+treasuryCost.wood+"<br>Food: "+treasuryCost.food+"<br>Gold: "+treasuryCost.gold+"<br>Iron: "+treasuryCost.iron;
	 setTimeout(function(){
         document.getElementById("check").innerHTML="";
			},5000);
		}
	}
	
function axeDescripition() {
	document.getElementById("check").innerHTML="Wood: "+axeCost.wood+"<br>Food: "+axeCost.food+"<br>Gold: "+axeCost.gold+"<br>Iron: "+axeCost.iron;
	 setTimeout(function(){
         document.getElementById("check").innerHTML="";
			},5000);
	}

function ratesDescripition() {
	document.getElementById("check").innerHTML="Wood: "+raiseCost.wood+"<br>Food: "+raiseCost.food+"<br>Gold: "+raiseCost.gold+"<br>Iron: "+raiseCost.iron;
	 setTimeout(function(){
         document.getElementById("check").innerHTML="";
			},5000);
	}
	
function hoeDescripition() {
	document.getElementById("check").innerHTML="Wood: "+hoeCost.wood+"<br>Food: "+hoeCost.food+"<br>Gold: "+hoeCost.gold+"<br>Iron: "+hoeCost.iron;
	 setTimeout(function(){
         document.getElementById("check").innerHTML="";
			},5000);
	}
	
function pickDescripition() {
	document.getElementById("check").innerHTML="Wood: "+pickCost.wood+"<br>Food: "+pickCost.food+"<br>Gold: "+pickCost.gold+"<br>Iron: "+pickCost.iron;
	 setTimeout(function(){
         document.getElementById("check").innerHTML="";
			},5000);
	}

function lumbercampDescripition() {
	document.getElementById("check").innerHTML="Wood: "+lumbercampCost.wood+"<br>Food: "+lumbercampCost.food+"<br>Gold: "+lumbercampCost.gold+"<br>Iron: "+lumbercampCost.iron;
	 setTimeout(function(){
         document.getElementById("check").innerHTML="";
			},5000);
	}
	
function treasuryDescripition() {
	document.getElementById("check").innerHTML="Wood: "+treasuryCost.wood+"<br>Food: "+treasuryCost.food+"<br>Gold: "+treasuryCost.gold+"<br>Iron: "+treasuryCost.iron;
	 setTimeout(function(){
         document.getElementById("check").innerHTML="";
			},5000);
	}
	
function millDescripition() {
	document.getElementById("check").innerHTML="Wood: "+millCost.wood+"<br>Food: "+millCost.food+"<br>Gold: "+millCost.gold+"<br>Iron: "+millCost.iron;
	 setTimeout(function(){
         document.getElementById("check").innerHTML="";
			},5000);
	}
	
function mineDescripition() {
	document.getElementById("check").innerHTML="Wood: "+mineCost.wood+"<br>Food: "+mineCost.food+"<br>Gold: "+mineCost.gold+"<br>Iron: "+mineCost.iron;
	 setTimeout(function(){
         document.getElementById("check").innerHTML="";
			},5000);
	}

//starts off game state
requestAnimationFrame(mainLoop);
//runs idle rates function every 1 second
setInterval(idleUpdate, 1000);
</script>
<br>
<h2>Clickers</h2>
<button onclick="gatherWood()">Gather Wood</button>
<button onclick="gatherGold()">Collect Gold</button>
<button onclick="gatherFood()">Forage Food</button>
<button onclick="gatherIron()">Mine Iron</button>
<br><br>
<h2>Upgrades</h2>
<div onmouseenter="axeDescripition()"><button onclick="upgradeAxe()">Upgrade Axe</button></div>
<div onmouseenter="ratesDescripition()"><button onclick="upgradeRates()">Increase Tax Rate</button></div>
<div onmouseenter="hoeDescripition()"><button onclick="upgradeHoe()">Upgrade Hoe</button></div>
<div onmouseenter="pickDescripition()"><button onclick="upgradePick()">Upgrade Pick</button></div>
<br><br>
<h2>Buildings</h2>
<div onmouseenter="lumbercampDescripition()"><button onclick="buildingLumbercamp()">Build Lumber Camp</button></div>
<div onmouseenter="treasuryDescripition()"><button onclick="buildingTreasury()">Build Treasury</button></div>
<div onmouseenter="millDescripition()"><button onclick="buildingMill()">Build Mill</button></div>
<div onmouseenter="mineDescripition()"><button onclick="buildingMine()">Build Mine</button></div>
<h3>Log:</h3>
<p id="check"></p>
</body>
</html>
